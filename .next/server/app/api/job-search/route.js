"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/job-search/route";
exports.ids = ["app/api/job-search/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fjob-search%2Froute&page=%2Fapi%2Fjob-search%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fjob-search%2Froute.ts&appDir=%2FUsers%2Fraviporuri%2Fraviporuri-website%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fraviporuri%2Fraviporuri-website&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fjob-search%2Froute&page=%2Fapi%2Fjob-search%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fjob-search%2Froute.ts&appDir=%2FUsers%2Fraviporuri%2Fraviporuri-website%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fraviporuri%2Fraviporuri-website&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_raviporuri_raviporuri_website_app_api_job_search_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/job-search/route.ts */ \"(rsc)/./app/api/job-search/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/job-search/route\",\n        pathname: \"/api/job-search\",\n        filename: \"route\",\n        bundlePath: \"app/api/job-search/route\"\n    },\n    resolvedPagePath: \"/Users/raviporuri/raviporuri-website/app/api/job-search/route.ts\",\n    nextConfigOutput,\n    userland: _Users_raviporuri_raviporuri_website_app_api_job_search_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/job-search/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZqb2Itc2VhcmNoJTJGcm91dGUmcGFnZT0lMkZhcGklMkZqb2Itc2VhcmNoJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGam9iLXNlYXJjaCUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRnJhdmlwb3J1cmklMkZyYXZpcG9ydXJpLXdlYnNpdGUlMkZhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPSUyRlVzZXJzJTJGcmF2aXBvcnVyaSUyRnJhdmlwb3J1cmktd2Vic2l0ZSZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ2M7QUFDZ0I7QUFDN0Y7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdIQUFtQjtBQUMzQztBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSxpRUFBaUU7QUFDekU7QUFDQTtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUN1SDs7QUFFdkgiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yYXZpLWFpLWNhcmVlci1wbGF0Zm9ybS8/MmIwMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIvVXNlcnMvcmF2aXBvcnVyaS9yYXZpcG9ydXJpLXdlYnNpdGUvYXBwL2FwaS9qb2Itc2VhcmNoL3JvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9qb2Itc2VhcmNoL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvam9iLXNlYXJjaFwiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvam9iLXNlYXJjaC9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIi9Vc2Vycy9yYXZpcG9ydXJpL3Jhdmlwb3J1cmktd2Vic2l0ZS9hcHAvYXBpL2pvYi1zZWFyY2gvcm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL2pvYi1zZWFyY2gvcm91dGVcIjtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgc2VydmVySG9va3MsXG4gICAgICAgIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgb3JpZ2luYWxQYXRobmFtZSwgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fjob-search%2Froute&page=%2Fapi%2Fjob-search%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fjob-search%2Froute.ts&appDir=%2FUsers%2Fraviporuri%2Fraviporuri-website%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fraviporuri%2Fraviporuri-website&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/job-search/route.ts":
/*!*************************************!*\
  !*** ./app/api/job-search/route.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _anthropic_ai_sdk__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @anthropic-ai/sdk */ \"(rsc)/./node_modules/@anthropic-ai/sdk/index.mjs\");\n\n\nconst anthropic = new _anthropic_ai_sdk__WEBPACK_IMPORTED_MODULE_1__[\"default\"]({\n    apiKey: process.env.ANTHROPIC_API_KEY\n});\n// Rate limiting tracking\nlet jsearchRequestCount = 0;\nlet glassdoorRequestCount = 0;\n// LinkedIn Job Search API integration - DISABLED (subscription required)\nasync function searchLinkedInJobs(params) {\n    console.log(\"LinkedIn Jobs API disabled - requires paid subscription\");\n    return [];\n}\n// RemoteOK API integration\nasync function searchRemoteOK(params) {\n    try {\n        const response = await fetch(\"https://remoteok.io/api\");\n        const data = await response.json();\n        if (!Array.isArray(data)) return [];\n        // Filter by keywords and exclude the first item (usually metadata)\n        const jobs = data.slice(1).filter((job)=>{\n            if (!job.position) return false;\n            const keywords = params.keywords.toLowerCase();\n            const searchText = `${job.position} ${job.company} ${job.description || \"\"}`.toLowerCase();\n            return searchText.includes(keywords) || keywords.split(\" \").some((keyword)=>searchText.includes(keyword));\n        });\n        return jobs.slice(0, 10).map((job)=>({\n                id: `remoteok-${job.id}`,\n                title: job.position,\n                company: job.company,\n                location: job.location || \"Remote\",\n                remote: true,\n                salary: job.salary_min && job.salary_max ? `$${Math.round(job.salary_min / 1000)}k - $${Math.round(job.salary_max / 1000)}k` : undefined,\n                description: job.description || \"\",\n                url: `https://remoteok.io/remote-jobs/${job.id}`,\n                source: \"RemoteOK\",\n                postedDate: new Date(job.date).toISOString()\n            }));\n    } catch (error) {\n        console.error(\"RemoteOK API error:\", error);\n        return [];\n    }\n}\n// Apify API integration - DISABLED (no successful actor runs found)\nasync function searchApify(params) {\n    console.log(\"Apify API disabled - no successful recent runs available\");\n    return [];\n}\n// Fantastic Jobs API integration - DISABLED (API endpoint returns 404)\nasync function searchFantasticJobs(params) {\n    console.log(\"Fantastic Jobs API disabled - endpoint returns 404\");\n    return [];\n}\n// Adzuna API integration\nasync function searchAdzuna(params) {\n    if (!process.env.ADZUNA_APP_ID || !process.env.ADZUNA_APP_KEY) {\n        console.log(\"Adzuna API credentials not configured\");\n        return [];\n    }\n    try {\n        const searchParams = new URLSearchParams({\n            app_id: process.env.ADZUNA_APP_ID,\n            app_key: process.env.ADZUNA_APP_KEY,\n            what: params.keywords,\n            where: params.location || \"United States\",\n            results_per_page: \"20\",\n            distance: \"50\"\n        });\n        const response = await fetch(`https://api.adzuna.com/v1/api/jobs/us/search/1?${searchParams}`);\n        const data = await response.json();\n        if (!data.results) return [];\n        return data.results.map((job)=>({\n                id: `adzuna-${job.id}`,\n                title: job.title,\n                company: job.company?.display_name || \"Unknown Company\",\n                location: job.location?.display_name || \"Location not specified\",\n                remote: job.title.toLowerCase().includes(\"remote\") || job.description.toLowerCase().includes(\"remote\"),\n                salary: job.salary_min && job.salary_max ? `$${Math.round(job.salary_min / 1000)}k - $${Math.round(job.salary_max / 1000)}k` : undefined,\n                description: job.description,\n                url: job.redirect_url,\n                source: \"Adzuna\",\n                postedDate: job.created\n            }));\n    } catch (error) {\n        console.error(\"Adzuna API error:\", error);\n        return [];\n    }\n}\n// Greenhouse API integration - Discovery mode\nasync function searchGreenhouse(params) {\n    // Use common tech company greenhouse boards - but this is just a sample\n    // In practice, we'd want to discover these dynamically\n    const knownBoards = [\n        \"databricks\",\n        \"snowflake\",\n        \"airbnb\",\n        \"stripe\",\n        \"openai\",\n        \"anthropic\",\n        \"cisco\",\n        \"nvidia\",\n        \"microsoft\",\n        \"google\",\n        \"meta\",\n        \"amazon\",\n        \"apple\",\n        \"uber\",\n        \"lyft\",\n        \"square\",\n        \"zoom\",\n        \"slack\",\n        \"figma\",\n        \"notion\",\n        \"coinbase\",\n        \"dropbox\",\n        \"twilio\",\n        \"github\",\n        \"atlassian\",\n        \"salesforce\",\n        \"mongodb\",\n        \"elastic\",\n        \"docker\",\n        \"hashicorp\",\n        \"datadog\",\n        \"pagerduty\",\n        \"segment\"\n    ];\n    const jobs = [];\n    // Sample from known boards, but filter by keywords after fetching\n    const sampleBoards = knownBoards.slice(0, 10) // Limit to avoid too many requests\n    ;\n    for (const company of sampleBoards){\n        try {\n            const response = await fetch(`https://boards-api.greenhouse.io/v1/boards/${company}/jobs`);\n            const data = await response.json();\n            if (data.jobs) {\n                const filteredJobs = data.jobs.filter((job)=>{\n                    const keywords = params.keywords.toLowerCase();\n                    const searchText = `${job.title} ${job.content || \"\"}`.toLowerCase();\n                    return searchText.includes(keywords) || keywords.split(\" \").some((keyword)=>searchText.includes(keyword));\n                });\n                const companyJobs = filteredJobs.map((job)=>({\n                        id: `greenhouse-${job.id}`,\n                        title: job.title,\n                        company: company.charAt(0).toUpperCase() + company.slice(1),\n                        location: job.location?.name || \"Location not specified\",\n                        remote: job.title.toLowerCase().includes(\"remote\") || job.location?.name?.toLowerCase().includes(\"remote\") || job.content?.toLowerCase().includes(\"remote\"),\n                        description: job.content || \"\",\n                        url: job.absolute_url,\n                        source: \"Greenhouse\",\n                        postedDate: job.updated_at\n                    }));\n                jobs.push(...companyJobs.slice(0, 3)) // Limit per company\n                ;\n            }\n        } catch (error) {\n            console.error(`Greenhouse API error for ${company}:`, error);\n        }\n    }\n    return jobs.slice(0, 15) // Overall limit\n    ;\n}\n// Lever API integration - Discovery mode\nasync function searchLever(params) {\n    const knownLeverCompanies = [\n        \"netflix\",\n        \"uber\",\n        \"lyft\",\n        \"square\",\n        \"zoom\",\n        \"slack\",\n        \"figma\",\n        \"notion\",\n        \"coinbase\",\n        \"robinhood\",\n        \"palantir\",\n        \"postmates\",\n        \"canva\",\n        \"reddit\",\n        \"box\",\n        \"cloudflare\",\n        \"mixpanel\",\n        \"affirm\",\n        \"plaid\",\n        \"compass\"\n    ];\n    const jobs = [];\n    const sampleCompanies = knownLeverCompanies.slice(0, 8) // Limit requests\n    ;\n    for (const company of sampleCompanies){\n        try {\n            const response = await fetch(`https://api.lever.co/v0/postings/${company}?mode=json`);\n            const data = await response.json();\n            if (Array.isArray(data)) {\n                const filteredJobs = data.filter((job)=>{\n                    const keywords = params.keywords.toLowerCase();\n                    const searchText = `${job.text} ${job.description || \"\"}`.toLowerCase();\n                    return searchText.includes(keywords) || keywords.split(\" \").some((keyword)=>searchText.includes(keyword));\n                });\n                const companyJobs = filteredJobs.map((job)=>({\n                        id: `lever-${job.id}`,\n                        title: job.text,\n                        company: company.charAt(0).toUpperCase() + company.slice(1),\n                        location: job.categories?.location || \"Location not specified\",\n                        remote: job.categories?.location?.toLowerCase().includes(\"remote\") || job.text?.toLowerCase().includes(\"remote\") || job.description?.toLowerCase().includes(\"remote\"),\n                        description: job.description || \"\",\n                        url: job.hostedUrl,\n                        source: \"Lever\",\n                        postedDate: job.createdAt\n                    }));\n                jobs.push(...companyJobs.slice(0, 2)) // Limit per company\n                ;\n            }\n        } catch (error) {\n            console.error(`Lever API error for ${company}:`, error);\n        }\n    }\n    return jobs.slice(0, 10) // Overall limit\n    ;\n}\n// AI-powered job scoring\nasync function scoreJobs(jobs, userProfile) {\n    if (!process.env.ANTHROPIC_API_KEY) {\n        return jobs.map((job)=>({\n                ...job,\n                relevanceScore: 50\n            }));\n    }\n    const scoringPrompt = `You are an expert career advisor analyzing job opportunities for a senior technology executive.\n\nUSER PROFILE:\n${userProfile}\n\nJOBS TO SCORE:\n${jobs.map((job, i)=>`\n${i + 1}. ${job.title} at ${job.company}\nLocation: ${job.location}\nDescription: ${job.description.substring(0, 500)}...\n`).join(\"\\n\")}\n\nFor each job, provide a relevance score (1-100) and 2-3 key match reasons. Consider:\n- Role seniority match\n- Technical skills alignment\n- Industry experience fit\n- Company stage/culture fit\n- Leadership scope match\n\nReturn ONLY a JSON array with this format:\n[\n  {\n    \"jobIndex\": 0,\n    \"score\": 85,\n    \"reasons\": [\"Matches senior data platform leadership experience\", \"Requires Snowflake/Databricks expertise\", \"Scaling team responsibilities align with background\"]\n  }\n]`;\n    try {\n        const response = await anthropic.messages.create({\n            model: \"claude-3-haiku-20240307\",\n            max_tokens: 2000,\n            temperature: 0.3,\n            messages: [\n                {\n                    role: \"user\",\n                    content: scoringPrompt\n                }\n            ]\n        });\n        const responseText = response.content[0].type === \"text\" ? response.content[0].text : \"\";\n        const scores = JSON.parse(responseText);\n        return jobs.map((job, index)=>{\n            const scoring = scores.find((s)=>s.jobIndex === index);\n            return {\n                ...job,\n                relevanceScore: scoring?.score || 50,\n                matchReasons: scoring?.reasons || []\n            };\n        }).sort((a, b)=>(b.relevanceScore || 0) - (a.relevanceScore || 0));\n    } catch (error) {\n        console.error(\"Job scoring error:\", error);\n        return jobs.map((job)=>({\n                ...job,\n                relevanceScore: 50\n            }));\n    }\n}\nasync function POST(request) {\n    try {\n        const params = await request.json();\n        if (!params.keywords) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Keywords are required\"\n            }, {\n                status: 400\n            });\n        }\n        // User profile for AI scoring\n        const userProfile = `Senior technology executive with 25+ years experience in data engineering, analytics, AI/ML, and cloud platforms. Currently Founder & AI Product Leader at Equiti Ventures. Previously Senior Director at Cisco, Global Head of Data at Dropbox. Expertise in scaling engineering teams (100+ people), building data platforms, and leading companies through IPO. Looking for C-level or senior leadership roles in technology, data, or AI companies.`;\n        // Aggregate jobs from multiple sources\n        const [linkedinJobs, remoteOKJobs, apifyJobs, fantasticJobs, adzunaJobs, greehouseJobs, leverJobs] = await Promise.all([\n            searchLinkedInJobs(params),\n            searchRemoteOK(params),\n            searchApify(params),\n            searchFantasticJobs(params),\n            searchAdzuna(params),\n            searchGreenhouse(params),\n            searchLever(params)\n        ]);\n        let allJobs = [\n            ...linkedinJobs,\n            ...remoteOKJobs,\n            ...apifyJobs,\n            ...fantasticJobs,\n            ...adzunaJobs,\n            ...greehouseJobs,\n            ...leverJobs\n        ];\n        // Filter by criteria\n        if (params.remote !== undefined) {\n            allJobs = allJobs.filter((job)=>job.remote === params.remote);\n        }\n        if (params.companies?.length) {\n            allJobs = allJobs.filter((job)=>params.companies.some((company)=>job.company.toLowerCase().includes(company.toLowerCase())));\n        }\n        if (params.excludeCompanies?.length) {\n            allJobs = allJobs.filter((job)=>!params.excludeCompanies.some((company)=>job.company.toLowerCase().includes(company.toLowerCase())));\n        }\n        // Remove duplicates by URL\n        const uniqueJobs = allJobs.filter((job, index, self)=>index === self.findIndex((j)=>j.url === job.url));\n        // Score jobs with AI\n        const scoredJobs = await scoreJobs(uniqueJobs, userProfile);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            jobs: scoredJobs,\n            total: scoredJobs.length,\n            sources: {\n                linkedin: linkedinJobs.length,\n                remoteok: remoteOKJobs.length,\n                apify: apifyJobs.length,\n                fantastic: fantasticJobs.length,\n                adzuna: adzunaJobs.length,\n                greenhouse: greehouseJobs.length,\n                lever: leverJobs.length\n            },\n            apiUsage: {\n                linkedin: {\n                    used: jsearchRequestCount,\n                    remaining: Math.max(0, 200 - jsearchRequestCount),\n                    limit: 200\n                },\n                glassdoor: {\n                    used: glassdoorRequestCount,\n                    remaining: Math.max(0, 100 - glassdoorRequestCount),\n                    limit: 100\n                }\n            }\n        });\n    } catch (error) {\n        console.error(\"Job search error:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Failed to search jobs\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TixNQUFNO1lBQ3hCUSxTQUFTO2dCQUNQQyxVQUFVcEIsYUFBYVcsTUFBTTtnQkFDN0JVLFVBQVVwQixhQUFhVSxNQUFNO2dCQUM3QlcsT0FBT3BCLFVBQVVTLE1BQU07Z0JBQ3ZCWSxXQUFXcEIsY0FBY1EsTUFBTTtnQkFDL0JhLFFBQVFwQixXQUFXTyxNQUFNO2dCQUN6QmMsWUFBWXBCLGNBQWNNLE1BQU07Z0JBQ2hDZSxPQUFPcEIsVUFBVUssTUFBTTtZQUN6QjtZQUNBZ0IsVUFBVTtnQkFDUlAsVUFBVTtvQkFDUlEsTUFBTTdJO29CQUNOOEksV0FBVzNHLEtBQUs0RyxHQUFHLENBQUMsR0FBRyxNQUFNL0k7b0JBQzdCZ0osT0FBTztnQkFDVDtnQkFDQUMsV0FBVztvQkFDVEosTUFBTTVJO29CQUNONkksV0FBVzNHLEtBQUs0RyxHQUFHLENBQUMsR0FBRyxNQUFNOUk7b0JBQzdCK0ksT0FBTztnQkFDVDtZQUNGO1FBQ0Y7SUFFRixFQUFFLE9BQU9wRyxPQUFPO1FBQ2R4QyxRQUFRd0MsS0FBSyxDQUFDLHFCQUFxQkE7UUFDbkMsT0FBT25ELHFEQUFZQSxDQUFDaUIsSUFBSSxDQUFDO1lBQUVrQyxPQUFPO1FBQXdCLEdBQUc7WUFBRW9FLFFBQVE7UUFBSTtJQUM3RTtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmF2aS1haS1jYXJlZXItcGxhdGZvcm0vLi9hcHAvYXBpL2pvYi1zZWFyY2gvcm91dGUudHM/ZTI4NiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVxdWVzdCwgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInXG5pbXBvcnQgQW50aHJvcGljIGZyb20gJ0BhbnRocm9waWMtYWkvc2RrJ1xuXG5jb25zdCBhbnRocm9waWMgPSBuZXcgQW50aHJvcGljKHtcbiAgYXBpS2V5OiBwcm9jZXNzLmVudi5BTlRIUk9QSUNfQVBJX0tFWSxcbn0pXG5cbmludGVyZmFjZSBKb2JMaXN0aW5nIHtcbiAgaWQ6IHN0cmluZ1xuICB0aXRsZTogc3RyaW5nXG4gIGNvbXBhbnk6IHN0cmluZ1xuICBsb2NhdGlvbjogc3RyaW5nXG4gIHJlbW90ZTogYm9vbGVhblxuICBzYWxhcnk/OiBzdHJpbmdcbiAgZGVzY3JpcHRpb246IHN0cmluZ1xuICB1cmw6IHN0cmluZ1xuICBzb3VyY2U6IHN0cmluZ1xuICBwb3N0ZWREYXRlOiBzdHJpbmdcbiAgcmVsZXZhbmNlU2NvcmU/OiBudW1iZXJcbiAgbWF0Y2hSZWFzb25zPzogc3RyaW5nW11cbn1cblxuaW50ZXJmYWNlIEpvYlNlYXJjaFBhcmFtcyB7XG4gIGtleXdvcmRzOiBzdHJpbmdcbiAgbG9jYXRpb24/OiBzdHJpbmdcbiAgcmVtb3RlPzogYm9vbGVhblxuICBzYWxhcnlNaW4/OiBudW1iZXJcbiAgc2FsYXJ5TWF4PzogbnVtYmVyXG4gIGNvbXBhbmllcz86IHN0cmluZ1tdXG4gIGV4Y2x1ZGVDb21wYW5pZXM/OiBzdHJpbmdbXVxufVxuXG4vLyBSYXRlIGxpbWl0aW5nIHRyYWNraW5nXG5sZXQganNlYXJjaFJlcXVlc3RDb3VudCA9IDBcbmxldCBnbGFzc2Rvb3JSZXF1ZXN0Q291bnQgPSAwXG5cbi8vIExpbmtlZEluIEpvYiBTZWFyY2ggQVBJIGludGVncmF0aW9uIC0gRElTQUJMRUQgKHN1YnNjcmlwdGlvbiByZXF1aXJlZClcbmFzeW5jIGZ1bmN0aW9uIHNlYXJjaExpbmtlZEluSm9icyhwYXJhbXM6IEpvYlNlYXJjaFBhcmFtcyk6IFByb21pc2U8Sm9iTGlzdGluZ1tdPiB7XG4gIGNvbnNvbGUubG9nKCdMaW5rZWRJbiBKb2JzIEFQSSBkaXNhYmxlZCAtIHJlcXVpcmVzIHBhaWQgc3Vic2NyaXB0aW9uJylcbiAgcmV0dXJuIFtdXG59XG5cbi8vIFJlbW90ZU9LIEFQSSBpbnRlZ3JhdGlvblxuYXN5bmMgZnVuY3Rpb24gc2VhcmNoUmVtb3RlT0socGFyYW1zOiBKb2JTZWFyY2hQYXJhbXMpOiBQcm9taXNlPEpvYkxpc3RpbmdbXT4ge1xuICB0cnkge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJ2h0dHBzOi8vcmVtb3Rlb2suaW8vYXBpJylcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpXG5cbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoZGF0YSkpIHJldHVybiBbXVxuXG4gICAgLy8gRmlsdGVyIGJ5IGtleXdvcmRzIGFuZCBleGNsdWRlIHRoZSBmaXJzdCBpdGVtICh1c3VhbGx5IG1ldGFkYXRhKVxuICAgIGNvbnN0IGpvYnMgPSBkYXRhLnNsaWNlKDEpLmZpbHRlcigoam9iOiBhbnkpID0+IHtcbiAgICAgIGlmICgham9iLnBvc2l0aW9uKSByZXR1cm4gZmFsc2VcbiAgICAgIGNvbnN0IGtleXdvcmRzID0gcGFyYW1zLmtleXdvcmRzLnRvTG93ZXJDYXNlKClcbiAgICAgIGNvbnN0IHNlYXJjaFRleHQgPSBgJHtqb2IucG9zaXRpb259ICR7am9iLmNvbXBhbnl9ICR7am9iLmRlc2NyaXB0aW9uIHx8ICcnfWAudG9Mb3dlckNhc2UoKVxuICAgICAgcmV0dXJuIHNlYXJjaFRleHQuaW5jbHVkZXMoa2V5d29yZHMpIHx8XG4gICAgICAgICAgICAga2V5d29yZHMuc3BsaXQoJyAnKS5zb21lKGtleXdvcmQgPT4gc2VhcmNoVGV4dC5pbmNsdWRlcyhrZXl3b3JkKSlcbiAgICB9KVxuXG4gICAgcmV0dXJuIGpvYnMuc2xpY2UoMCwgMTApLm1hcCgoam9iOiBhbnkpID0+ICh7XG4gICAgICBpZDogYHJlbW90ZW9rLSR7am9iLmlkfWAsXG4gICAgICB0aXRsZTogam9iLnBvc2l0aW9uLFxuICAgICAgY29tcGFueTogam9iLmNvbXBhbnksXG4gICAgICBsb2NhdGlvbjogam9iLmxvY2F0aW9uIHx8ICdSZW1vdGUnLFxuICAgICAgcmVtb3RlOiB0cnVlLFxuICAgICAgc2FsYXJ5OiBqb2Iuc2FsYXJ5X21pbiAmJiBqb2Iuc2FsYXJ5X21heCA/XG4gICAgICAgIGAkJHtNYXRoLnJvdW5kKGpvYi5zYWxhcnlfbWluLzEwMDApfWsgLSAkJHtNYXRoLnJvdW5kKGpvYi5zYWxhcnlfbWF4LzEwMDApfWtgIDpcbiAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgZGVzY3JpcHRpb246IGpvYi5kZXNjcmlwdGlvbiB8fCAnJyxcbiAgICAgIHVybDogYGh0dHBzOi8vcmVtb3Rlb2suaW8vcmVtb3RlLWpvYnMvJHtqb2IuaWR9YCxcbiAgICAgIHNvdXJjZTogJ1JlbW90ZU9LJyxcbiAgICAgIHBvc3RlZERhdGU6IG5ldyBEYXRlKGpvYi5kYXRlKS50b0lTT1N0cmluZygpXG4gICAgfSkpXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignUmVtb3RlT0sgQVBJIGVycm9yOicsIGVycm9yKVxuICAgIHJldHVybiBbXVxuICB9XG59XG5cbi8vIEFwaWZ5IEFQSSBpbnRlZ3JhdGlvbiAtIERJU0FCTEVEIChubyBzdWNjZXNzZnVsIGFjdG9yIHJ1bnMgZm91bmQpXG5hc3luYyBmdW5jdGlvbiBzZWFyY2hBcGlmeShwYXJhbXM6IEpvYlNlYXJjaFBhcmFtcyk6IFByb21pc2U8Sm9iTGlzdGluZ1tdPiB7XG4gIGNvbnNvbGUubG9nKCdBcGlmeSBBUEkgZGlzYWJsZWQgLSBubyBzdWNjZXNzZnVsIHJlY2VudCBydW5zIGF2YWlsYWJsZScpXG4gIHJldHVybiBbXVxufVxuXG4vLyBGYW50YXN0aWMgSm9icyBBUEkgaW50ZWdyYXRpb24gLSBESVNBQkxFRCAoQVBJIGVuZHBvaW50IHJldHVybnMgNDA0KVxuYXN5bmMgZnVuY3Rpb24gc2VhcmNoRmFudGFzdGljSm9icyhwYXJhbXM6IEpvYlNlYXJjaFBhcmFtcyk6IFByb21pc2U8Sm9iTGlzdGluZ1tdPiB7XG4gIGNvbnNvbGUubG9nKCdGYW50YXN0aWMgSm9icyBBUEkgZGlzYWJsZWQgLSBlbmRwb2ludCByZXR1cm5zIDQwNCcpXG4gIHJldHVybiBbXVxufVxuXG4vLyBBZHp1bmEgQVBJIGludGVncmF0aW9uXG5hc3luYyBmdW5jdGlvbiBzZWFyY2hBZHp1bmEocGFyYW1zOiBKb2JTZWFyY2hQYXJhbXMpOiBQcm9taXNlPEpvYkxpc3RpbmdbXT4ge1xuICBpZiAoIXByb2Nlc3MuZW52LkFEWlVOQV9BUFBfSUQgfHwgIXByb2Nlc3MuZW52LkFEWlVOQV9BUFBfS0VZKSB7XG4gICAgY29uc29sZS5sb2coJ0FkenVuYSBBUEkgY3JlZGVudGlhbHMgbm90IGNvbmZpZ3VyZWQnKVxuICAgIHJldHVybiBbXVxuICB9XG5cbiAgdHJ5IHtcbiAgICBjb25zdCBzZWFyY2hQYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHtcbiAgICAgIGFwcF9pZDogcHJvY2Vzcy5lbnYuQURaVU5BX0FQUF9JRCxcbiAgICAgIGFwcF9rZXk6IHByb2Nlc3MuZW52LkFEWlVOQV9BUFBfS0VZLFxuICAgICAgd2hhdDogcGFyYW1zLmtleXdvcmRzLFxuICAgICAgd2hlcmU6IHBhcmFtcy5sb2NhdGlvbiB8fCAnVW5pdGVkIFN0YXRlcycsXG4gICAgICByZXN1bHRzX3Blcl9wYWdlOiAnMjAnLFxuICAgICAgZGlzdGFuY2U6ICc1MCdcbiAgICB9KVxuXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgaHR0cHM6Ly9hcGkuYWR6dW5hLmNvbS92MS9hcGkvam9icy91cy9zZWFyY2gvMT8ke3NlYXJjaFBhcmFtc31gKVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKClcblxuICAgIGlmICghZGF0YS5yZXN1bHRzKSByZXR1cm4gW11cblxuICAgIHJldHVybiBkYXRhLnJlc3VsdHMubWFwKChqb2I6IGFueSkgPT4gKHtcbiAgICAgIGlkOiBgYWR6dW5hLSR7am9iLmlkfWAsXG4gICAgICB0aXRsZTogam9iLnRpdGxlLFxuICAgICAgY29tcGFueTogam9iLmNvbXBhbnk/LmRpc3BsYXlfbmFtZSB8fCAnVW5rbm93biBDb21wYW55JyxcbiAgICAgIGxvY2F0aW9uOiBqb2IubG9jYXRpb24/LmRpc3BsYXlfbmFtZSB8fCAnTG9jYXRpb24gbm90IHNwZWNpZmllZCcsXG4gICAgICByZW1vdGU6IGpvYi50aXRsZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCdyZW1vdGUnKSB8fCBqb2IuZGVzY3JpcHRpb24udG9Mb3dlckNhc2UoKS5pbmNsdWRlcygncmVtb3RlJyksXG4gICAgICBzYWxhcnk6IGpvYi5zYWxhcnlfbWluICYmIGpvYi5zYWxhcnlfbWF4ID8gYCQke01hdGgucm91bmQoam9iLnNhbGFyeV9taW4vMTAwMCl9ayAtICQke01hdGgucm91bmQoam9iLnNhbGFyeV9tYXgvMTAwMCl9a2AgOiB1bmRlZmluZWQsXG4gICAgICBkZXNjcmlwdGlvbjogam9iLmRlc2NyaXB0aW9uLFxuICAgICAgdXJsOiBqb2IucmVkaXJlY3RfdXJsLFxuICAgICAgc291cmNlOiAnQWR6dW5hJyxcbiAgICAgIHBvc3RlZERhdGU6IGpvYi5jcmVhdGVkXG4gICAgfSkpXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignQWR6dW5hIEFQSSBlcnJvcjonLCBlcnJvcilcbiAgICByZXR1cm4gW11cbiAgfVxufVxuXG4vLyBHcmVlbmhvdXNlIEFQSSBpbnRlZ3JhdGlvbiAtIERpc2NvdmVyeSBtb2RlXG5hc3luYyBmdW5jdGlvbiBzZWFyY2hHcmVlbmhvdXNlKHBhcmFtczogSm9iU2VhcmNoUGFyYW1zKTogUHJvbWlzZTxKb2JMaXN0aW5nW10+IHtcbiAgLy8gVXNlIGNvbW1vbiB0ZWNoIGNvbXBhbnkgZ3JlZW5ob3VzZSBib2FyZHMgLSBidXQgdGhpcyBpcyBqdXN0IGEgc2FtcGxlXG4gIC8vIEluIHByYWN0aWNlLCB3ZSdkIHdhbnQgdG8gZGlzY292ZXIgdGhlc2UgZHluYW1pY2FsbHlcbiAgY29uc3Qga25vd25Cb2FyZHMgPSBbXG4gICAgJ2RhdGFicmlja3MnLCAnc25vd2ZsYWtlJywgJ2FpcmJuYicsICdzdHJpcGUnLCAnb3BlbmFpJywgJ2FudGhyb3BpYycsXG4gICAgJ2Npc2NvJywgJ252aWRpYScsICdtaWNyb3NvZnQnLCAnZ29vZ2xlJywgJ21ldGEnLCAnYW1hem9uJywgJ2FwcGxlJyxcbiAgICAndWJlcicsICdseWZ0JywgJ3NxdWFyZScsICd6b29tJywgJ3NsYWNrJywgJ2ZpZ21hJywgJ25vdGlvbicsICdjb2luYmFzZScsXG4gICAgJ2Ryb3Bib3gnLCAndHdpbGlvJywgJ2dpdGh1YicsICdhdGxhc3NpYW4nLCAnc2FsZXNmb3JjZScsICdtb25nb2RiJyxcbiAgICAnZWxhc3RpYycsICdkb2NrZXInLCAnaGFzaGljb3JwJywgJ2RhdGFkb2cnLCAncGFnZXJkdXR5JywgJ3NlZ21lbnQnXG4gIF1cblxuICBjb25zdCBqb2JzOiBKb2JMaXN0aW5nW10gPSBbXVxuXG4gIC8vIFNhbXBsZSBmcm9tIGtub3duIGJvYXJkcywgYnV0IGZpbHRlciBieSBrZXl3b3JkcyBhZnRlciBmZXRjaGluZ1xuICBjb25zdCBzYW1wbGVCb2FyZHMgPSBrbm93bkJvYXJkcy5zbGljZSgwLCAxMCkgLy8gTGltaXQgdG8gYXZvaWQgdG9vIG1hbnkgcmVxdWVzdHNcblxuICBmb3IgKGNvbnN0IGNvbXBhbnkgb2Ygc2FtcGxlQm9hcmRzKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYGh0dHBzOi8vYm9hcmRzLWFwaS5ncmVlbmhvdXNlLmlvL3YxL2JvYXJkcy8ke2NvbXBhbnl9L2pvYnNgKVxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKVxuXG4gICAgICBpZiAoZGF0YS5qb2JzKSB7XG4gICAgICAgIGNvbnN0IGZpbHRlcmVkSm9icyA9IGRhdGEuam9icy5maWx0ZXIoKGpvYjogYW55KSA9PiB7XG4gICAgICAgICAgY29uc3Qga2V5d29yZHMgPSBwYXJhbXMua2V5d29yZHMudG9Mb3dlckNhc2UoKVxuICAgICAgICAgIGNvbnN0IHNlYXJjaFRleHQgPSBgJHtqb2IudGl0bGV9ICR7am9iLmNvbnRlbnQgfHwgJyd9YC50b0xvd2VyQ2FzZSgpXG4gICAgICAgICAgcmV0dXJuIHNlYXJjaFRleHQuaW5jbHVkZXMoa2V5d29yZHMpIHx8XG4gICAgICAgICAgICAgICAgIGtleXdvcmRzLnNwbGl0KCcgJykuc29tZShrZXl3b3JkID0+IHNlYXJjaFRleHQuaW5jbHVkZXMoa2V5d29yZCkpXG4gICAgICAgIH0pXG5cbiAgICAgICAgY29uc3QgY29tcGFueUpvYnMgPSBmaWx0ZXJlZEpvYnMubWFwKChqb2I6IGFueSkgPT4gKHtcbiAgICAgICAgICBpZDogYGdyZWVuaG91c2UtJHtqb2IuaWR9YCxcbiAgICAgICAgICB0aXRsZTogam9iLnRpdGxlLFxuICAgICAgICAgIGNvbXBhbnk6IGNvbXBhbnkuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBjb21wYW55LnNsaWNlKDEpLFxuICAgICAgICAgIGxvY2F0aW9uOiBqb2IubG9jYXRpb24/Lm5hbWUgfHwgJ0xvY2F0aW9uIG5vdCBzcGVjaWZpZWQnLFxuICAgICAgICAgIHJlbW90ZTogam9iLnRpdGxlLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ3JlbW90ZScpIHx8XG4gICAgICAgICAgICAgICAgIGpvYi5sb2NhdGlvbj8ubmFtZT8udG9Mb3dlckNhc2UoKS5pbmNsdWRlcygncmVtb3RlJykgfHxcbiAgICAgICAgICAgICAgICAgam9iLmNvbnRlbnQ/LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ3JlbW90ZScpLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiBqb2IuY29udGVudCB8fCAnJyxcbiAgICAgICAgICB1cmw6IGpvYi5hYnNvbHV0ZV91cmwsXG4gICAgICAgICAgc291cmNlOiAnR3JlZW5ob3VzZScsXG4gICAgICAgICAgcG9zdGVkRGF0ZTogam9iLnVwZGF0ZWRfYXRcbiAgICAgICAgfSkpXG4gICAgICAgIGpvYnMucHVzaCguLi5jb21wYW55Sm9icy5zbGljZSgwLCAzKSkgLy8gTGltaXQgcGVyIGNvbXBhbnlcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihgR3JlZW5ob3VzZSBBUEkgZXJyb3IgZm9yICR7Y29tcGFueX06YCwgZXJyb3IpXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGpvYnMuc2xpY2UoMCwgMTUpIC8vIE92ZXJhbGwgbGltaXRcbn1cblxuLy8gTGV2ZXIgQVBJIGludGVncmF0aW9uIC0gRGlzY292ZXJ5IG1vZGVcbmFzeW5jIGZ1bmN0aW9uIHNlYXJjaExldmVyKHBhcmFtczogSm9iU2VhcmNoUGFyYW1zKTogUHJvbWlzZTxKb2JMaXN0aW5nW10+IHtcbiAgY29uc3Qga25vd25MZXZlckNvbXBhbmllcyA9IFtcbiAgICAnbmV0ZmxpeCcsICd1YmVyJywgJ2x5ZnQnLCAnc3F1YXJlJywgJ3pvb20nLCAnc2xhY2snLCAnZmlnbWEnLCAnbm90aW9uJyxcbiAgICAnY29pbmJhc2UnLCAncm9iaW5ob29kJywgJ3BhbGFudGlyJywgJ3Bvc3RtYXRlcycsICdjYW52YScsICdyZWRkaXQnLFxuICAgICdib3gnLCAnY2xvdWRmbGFyZScsICdtaXhwYW5lbCcsICdhZmZpcm0nLCAncGxhaWQnLCAnY29tcGFzcydcbiAgXVxuXG4gIGNvbnN0IGpvYnM6IEpvYkxpc3RpbmdbXSA9IFtdXG4gIGNvbnN0IHNhbXBsZUNvbXBhbmllcyA9IGtub3duTGV2ZXJDb21wYW5pZXMuc2xpY2UoMCwgOCkgLy8gTGltaXQgcmVxdWVzdHNcblxuICBmb3IgKGNvbnN0IGNvbXBhbnkgb2Ygc2FtcGxlQ29tcGFuaWVzKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYGh0dHBzOi8vYXBpLmxldmVyLmNvL3YwL3Bvc3RpbmdzLyR7Y29tcGFueX0/bW9kZT1qc29uYClcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKClcblxuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YSkpIHtcbiAgICAgICAgY29uc3QgZmlsdGVyZWRKb2JzID0gZGF0YS5maWx0ZXIoKGpvYjogYW55KSA9PiB7XG4gICAgICAgICAgY29uc3Qga2V5d29yZHMgPSBwYXJhbXMua2V5d29yZHMudG9Mb3dlckNhc2UoKVxuICAgICAgICAgIGNvbnN0IHNlYXJjaFRleHQgPSBgJHtqb2IudGV4dH0gJHtqb2IuZGVzY3JpcHRpb24gfHwgJyd9YC50b0xvd2VyQ2FzZSgpXG4gICAgICAgICAgcmV0dXJuIHNlYXJjaFRleHQuaW5jbHVkZXMoa2V5d29yZHMpIHx8XG4gICAgICAgICAgICAgICAgIGtleXdvcmRzLnNwbGl0KCcgJykuc29tZShrZXl3b3JkID0+IHNlYXJjaFRleHQuaW5jbHVkZXMoa2V5d29yZCkpXG4gICAgICAgIH0pXG5cbiAgICAgICAgY29uc3QgY29tcGFueUpvYnMgPSBmaWx0ZXJlZEpvYnMubWFwKChqb2I6IGFueSkgPT4gKHtcbiAgICAgICAgICBpZDogYGxldmVyLSR7am9iLmlkfWAsXG4gICAgICAgICAgdGl0bGU6IGpvYi50ZXh0LFxuICAgICAgICAgIGNvbXBhbnk6IGNvbXBhbnkuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBjb21wYW55LnNsaWNlKDEpLFxuICAgICAgICAgIGxvY2F0aW9uOiBqb2IuY2F0ZWdvcmllcz8ubG9jYXRpb24gfHwgJ0xvY2F0aW9uIG5vdCBzcGVjaWZpZWQnLFxuICAgICAgICAgIHJlbW90ZTogam9iLmNhdGVnb3JpZXM/LmxvY2F0aW9uPy50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCdyZW1vdGUnKSB8fFxuICAgICAgICAgICAgICAgICBqb2IudGV4dD8udG9Mb3dlckNhc2UoKS5pbmNsdWRlcygncmVtb3RlJykgfHxcbiAgICAgICAgICAgICAgICAgam9iLmRlc2NyaXB0aW9uPy50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCdyZW1vdGUnKSxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogam9iLmRlc2NyaXB0aW9uIHx8ICcnLFxuICAgICAgICAgIHVybDogam9iLmhvc3RlZFVybCxcbiAgICAgICAgICBzb3VyY2U6ICdMZXZlcicsXG4gICAgICAgICAgcG9zdGVkRGF0ZTogam9iLmNyZWF0ZWRBdFxuICAgICAgICB9KSlcbiAgICAgICAgam9icy5wdXNoKC4uLmNvbXBhbnlKb2JzLnNsaWNlKDAsIDIpKSAvLyBMaW1pdCBwZXIgY29tcGFueVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGBMZXZlciBBUEkgZXJyb3IgZm9yICR7Y29tcGFueX06YCwgZXJyb3IpXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGpvYnMuc2xpY2UoMCwgMTApIC8vIE92ZXJhbGwgbGltaXRcbn1cblxuLy8gQUktcG93ZXJlZCBqb2Igc2NvcmluZ1xuYXN5bmMgZnVuY3Rpb24gc2NvcmVKb2JzKGpvYnM6IEpvYkxpc3RpbmdbXSwgdXNlclByb2ZpbGU6IHN0cmluZyk6IFByb21pc2U8Sm9iTGlzdGluZ1tdPiB7XG4gIGlmICghcHJvY2Vzcy5lbnYuQU5USFJPUElDX0FQSV9LRVkpIHtcbiAgICByZXR1cm4gam9icy5tYXAoam9iID0+ICh7IC4uLmpvYiwgcmVsZXZhbmNlU2NvcmU6IDUwIH0pKVxuICB9XG5cbiAgY29uc3Qgc2NvcmluZ1Byb21wdCA9IGBZb3UgYXJlIGFuIGV4cGVydCBjYXJlZXIgYWR2aXNvciBhbmFseXppbmcgam9iIG9wcG9ydHVuaXRpZXMgZm9yIGEgc2VuaW9yIHRlY2hub2xvZ3kgZXhlY3V0aXZlLlxuXG5VU0VSIFBST0ZJTEU6XG4ke3VzZXJQcm9maWxlfVxuXG5KT0JTIFRPIFNDT1JFOlxuJHtqb2JzLm1hcCgoam9iLCBpKSA9PiBgXG4ke2kgKyAxfS4gJHtqb2IudGl0bGV9IGF0ICR7am9iLmNvbXBhbnl9XG5Mb2NhdGlvbjogJHtqb2IubG9jYXRpb259XG5EZXNjcmlwdGlvbjogJHtqb2IuZGVzY3JpcHRpb24uc3Vic3RyaW5nKDAsIDUwMCl9Li4uXG5gKS5qb2luKCdcXG4nKX1cblxuRm9yIGVhY2ggam9iLCBwcm92aWRlIGEgcmVsZXZhbmNlIHNjb3JlICgxLTEwMCkgYW5kIDItMyBrZXkgbWF0Y2ggcmVhc29ucy4gQ29uc2lkZXI6XG4tIFJvbGUgc2VuaW9yaXR5IG1hdGNoXG4tIFRlY2huaWNhbCBza2lsbHMgYWxpZ25tZW50XG4tIEluZHVzdHJ5IGV4cGVyaWVuY2UgZml0XG4tIENvbXBhbnkgc3RhZ2UvY3VsdHVyZSBmaXRcbi0gTGVhZGVyc2hpcCBzY29wZSBtYXRjaFxuXG5SZXR1cm4gT05MWSBhIEpTT04gYXJyYXkgd2l0aCB0aGlzIGZvcm1hdDpcbltcbiAge1xuICAgIFwiam9iSW5kZXhcIjogMCxcbiAgICBcInNjb3JlXCI6IDg1LFxuICAgIFwicmVhc29uc1wiOiBbXCJNYXRjaGVzIHNlbmlvciBkYXRhIHBsYXRmb3JtIGxlYWRlcnNoaXAgZXhwZXJpZW5jZVwiLCBcIlJlcXVpcmVzIFNub3dmbGFrZS9EYXRhYnJpY2tzIGV4cGVydGlzZVwiLCBcIlNjYWxpbmcgdGVhbSByZXNwb25zaWJpbGl0aWVzIGFsaWduIHdpdGggYmFja2dyb3VuZFwiXVxuICB9XG5dYFxuXG4gIHRyeSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhbnRocm9waWMubWVzc2FnZXMuY3JlYXRlKHtcbiAgICAgIG1vZGVsOiAnY2xhdWRlLTMtaGFpa3UtMjAyNDAzMDcnLFxuICAgICAgbWF4X3Rva2VuczogMjAwMCxcbiAgICAgIHRlbXBlcmF0dXJlOiAwLjMsXG4gICAgICBtZXNzYWdlczogW3tcbiAgICAgICAgcm9sZTogJ3VzZXInLFxuICAgICAgICBjb250ZW50OiBzY29yaW5nUHJvbXB0XG4gICAgICB9XVxuICAgIH0pXG5cbiAgICBjb25zdCByZXNwb25zZVRleHQgPSByZXNwb25zZS5jb250ZW50WzBdLnR5cGUgPT09ICd0ZXh0JyA/IHJlc3BvbnNlLmNvbnRlbnRbMF0udGV4dCA6ICcnXG4gICAgY29uc3Qgc2NvcmVzID0gSlNPTi5wYXJzZShyZXNwb25zZVRleHQpXG5cbiAgICByZXR1cm4gam9icy5tYXAoKGpvYiwgaW5kZXgpID0+IHtcbiAgICAgIGNvbnN0IHNjb3JpbmcgPSBzY29yZXMuZmluZCgoczogYW55KSA9PiBzLmpvYkluZGV4ID09PSBpbmRleClcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLmpvYixcbiAgICAgICAgcmVsZXZhbmNlU2NvcmU6IHNjb3Jpbmc/LnNjb3JlIHx8IDUwLFxuICAgICAgICBtYXRjaFJlYXNvbnM6IHNjb3Jpbmc/LnJlYXNvbnMgfHwgW11cbiAgICAgIH1cbiAgICB9KS5zb3J0KChhLCBiKSA9PiAoYi5yZWxldmFuY2VTY29yZSB8fCAwKSAtIChhLnJlbGV2YW5jZVNjb3JlIHx8IDApKVxuXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignSm9iIHNjb3JpbmcgZXJyb3I6JywgZXJyb3IpXG4gICAgcmV0dXJuIGpvYnMubWFwKGpvYiA9PiAoeyAuLi5qb2IsIHJlbGV2YW5jZVNjb3JlOiA1MCB9KSlcbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xuICB0cnkge1xuICAgIGNvbnN0IHBhcmFtczogSm9iU2VhcmNoUGFyYW1zID0gYXdhaXQgcmVxdWVzdC5qc29uKClcblxuICAgIGlmICghcGFyYW1zLmtleXdvcmRzKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ0tleXdvcmRzIGFyZSByZXF1aXJlZCcgfSwgeyBzdGF0dXM6IDQwMCB9KVxuICAgIH1cblxuICAgIC8vIFVzZXIgcHJvZmlsZSBmb3IgQUkgc2NvcmluZ1xuICAgIGNvbnN0IHVzZXJQcm9maWxlID0gYFNlbmlvciB0ZWNobm9sb2d5IGV4ZWN1dGl2ZSB3aXRoIDI1KyB5ZWFycyBleHBlcmllbmNlIGluIGRhdGEgZW5naW5lZXJpbmcsIGFuYWx5dGljcywgQUkvTUwsIGFuZCBjbG91ZCBwbGF0Zm9ybXMuIEN1cnJlbnRseSBGb3VuZGVyICYgQUkgUHJvZHVjdCBMZWFkZXIgYXQgRXF1aXRpIFZlbnR1cmVzLiBQcmV2aW91c2x5IFNlbmlvciBEaXJlY3RvciBhdCBDaXNjbywgR2xvYmFsIEhlYWQgb2YgRGF0YSBhdCBEcm9wYm94LiBFeHBlcnRpc2UgaW4gc2NhbGluZyBlbmdpbmVlcmluZyB0ZWFtcyAoMTAwKyBwZW9wbGUpLCBidWlsZGluZyBkYXRhIHBsYXRmb3JtcywgYW5kIGxlYWRpbmcgY29tcGFuaWVzIHRocm91Z2ggSVBPLiBMb29raW5nIGZvciBDLWxldmVsIG9yIHNlbmlvciBsZWFkZXJzaGlwIHJvbGVzIGluIHRlY2hub2xvZ3ksIGRhdGEsIG9yIEFJIGNvbXBhbmllcy5gXG5cbiAgICAvLyBBZ2dyZWdhdGUgam9icyBmcm9tIG11bHRpcGxlIHNvdXJjZXNcbiAgICBjb25zdCBbXG4gICAgICBsaW5rZWRpbkpvYnMsXG4gICAgICByZW1vdGVPS0pvYnMsXG4gICAgICBhcGlmeUpvYnMsXG4gICAgICBmYW50YXN0aWNKb2JzLFxuICAgICAgYWR6dW5hSm9icyxcbiAgICAgIGdyZWVob3VzZUpvYnMsXG4gICAgICBsZXZlckpvYnNcbiAgICBdID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgICAgc2VhcmNoTGlua2VkSW5Kb2JzKHBhcmFtcyksXG4gICAgICBzZWFyY2hSZW1vdGVPSyhwYXJhbXMpLFxuICAgICAgc2VhcmNoQXBpZnkocGFyYW1zKSxcbiAgICAgIHNlYXJjaEZhbnRhc3RpY0pvYnMocGFyYW1zKSxcbiAgICAgIHNlYXJjaEFkenVuYShwYXJhbXMpLFxuICAgICAgc2VhcmNoR3JlZW5ob3VzZShwYXJhbXMpLFxuICAgICAgc2VhcmNoTGV2ZXIocGFyYW1zKVxuICAgIF0pXG5cbiAgICBsZXQgYWxsSm9icyA9IFsuLi5saW5rZWRpbkpvYnMsIC4uLnJlbW90ZU9LSm9icywgLi4uYXBpZnlKb2JzLCAuLi5mYW50YXN0aWNKb2JzLCAuLi5hZHp1bmFKb2JzLCAuLi5ncmVlaG91c2VKb2JzLCAuLi5sZXZlckpvYnNdXG5cbiAgICAvLyBGaWx0ZXIgYnkgY3JpdGVyaWFcbiAgICBpZiAocGFyYW1zLnJlbW90ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBhbGxKb2JzID0gYWxsSm9icy5maWx0ZXIoam9iID0+IGpvYi5yZW1vdGUgPT09IHBhcmFtcy5yZW1vdGUpXG4gICAgfVxuXG4gICAgaWYgKHBhcmFtcy5jb21wYW5pZXM/Lmxlbmd0aCkge1xuICAgICAgYWxsSm9icyA9IGFsbEpvYnMuZmlsdGVyKGpvYiA9PlxuICAgICAgICBwYXJhbXMuY29tcGFuaWVzIS5zb21lKGNvbXBhbnkgPT5cbiAgICAgICAgICBqb2IuY29tcGFueS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKGNvbXBhbnkudG9Mb3dlckNhc2UoKSlcbiAgICAgICAgKVxuICAgICAgKVxuICAgIH1cblxuICAgIGlmIChwYXJhbXMuZXhjbHVkZUNvbXBhbmllcz8ubGVuZ3RoKSB7XG4gICAgICBhbGxKb2JzID0gYWxsSm9icy5maWx0ZXIoam9iID0+XG4gICAgICAgICFwYXJhbXMuZXhjbHVkZUNvbXBhbmllcyEuc29tZShjb21wYW55ID0+XG4gICAgICAgICAgam9iLmNvbXBhbnkudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhjb21wYW55LnRvTG93ZXJDYXNlKCkpXG4gICAgICAgIClcbiAgICAgIClcbiAgICB9XG5cbiAgICAvLyBSZW1vdmUgZHVwbGljYXRlcyBieSBVUkxcbiAgICBjb25zdCB1bmlxdWVKb2JzID0gYWxsSm9icy5maWx0ZXIoKGpvYiwgaW5kZXgsIHNlbGYpID0+XG4gICAgICBpbmRleCA9PT0gc2VsZi5maW5kSW5kZXgoaiA9PiBqLnVybCA9PT0gam9iLnVybClcbiAgICApXG5cbiAgICAvLyBTY29yZSBqb2JzIHdpdGggQUlcbiAgICBjb25zdCBzY29yZWRKb2JzID0gYXdhaXQgc2NvcmVKb2JzKHVuaXF1ZUpvYnMsIHVzZXJQcm9maWxlKVxuXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICAgIGpvYnM6IHNjb3JlZEpvYnMsXG4gICAgICB0b3RhbDogc2NvcmVkSm9icy5sZW5ndGgsXG4gICAgICBzb3VyY2VzOiB7XG4gICAgICAgIGxpbmtlZGluOiBsaW5rZWRpbkpvYnMubGVuZ3RoLFxuICAgICAgICByZW1vdGVvazogcmVtb3RlT0tKb2JzLmxlbmd0aCxcbiAgICAgICAgYXBpZnk6IGFwaWZ5Sm9icy5sZW5ndGgsXG4gICAgICAgIGZhbnRhc3RpYzogZmFudGFzdGljSm9icy5sZW5ndGgsXG4gICAgICAgIGFkenVuYTogYWR6dW5hSm9icy5sZW5ndGgsXG4gICAgICAgIGdyZWVuaG91c2U6IGdyZWVob3VzZUpvYnMubGVuZ3RoLFxuICAgICAgICBsZXZlcjogbGV2ZXJKb2JzLmxlbmd0aFxuICAgICAgfSxcbiAgICAgIGFwaVVzYWdlOiB7XG4gICAgICAgIGxpbmtlZGluOiB7XG4gICAgICAgICAgdXNlZDoganNlYXJjaFJlcXVlc3RDb3VudCxcbiAgICAgICAgICByZW1haW5pbmc6IE1hdGgubWF4KDAsIDIwMCAtIGpzZWFyY2hSZXF1ZXN0Q291bnQpLFxuICAgICAgICAgIGxpbWl0OiAyMDBcbiAgICAgICAgfSxcbiAgICAgICAgZ2xhc3Nkb29yOiB7XG4gICAgICAgICAgdXNlZDogZ2xhc3Nkb29yUmVxdWVzdENvdW50LFxuICAgICAgICAgIHJlbWFpbmluZzogTWF0aC5tYXgoMCwgMTAwIC0gZ2xhc3Nkb29yUmVxdWVzdENvdW50KSxcbiAgICAgICAgICBsaW1pdDogMTAwXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KVxuXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignSm9iIHNlYXJjaCBlcnJvcjonLCBlcnJvcilcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ0ZhaWxlZCB0byBzZWFyY2ggam9icycgfSwgeyBzdGF0dXM6IDUwMCB9KVxuICB9XG59Il0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsIkFudGhyb3BpYyIsImFudGhyb3BpYyIsImFwaUtleSIsInByb2Nlc3MiLCJlbnYiLCJBTlRIUk9QSUNfQVBJX0tFWSIsImpzZWFyY2hSZXF1ZXN0Q291bnQiLCJnbGFzc2Rvb3JSZXF1ZXN0Q291bnQiLCJzZWFyY2hMaW5rZWRJbkpvYnMiLCJwYXJhbXMiLCJjb25zb2xlIiwibG9nIiwic2VhcmNoUmVtb3RlT0siLCJyZXNwb25zZSIsImZldGNoIiwiZGF0YSIsImpzb24iLCJBcnJheSIsImlzQXJyYXkiLCJqb2JzIiwic2xpY2UiLCJmaWx0ZXIiLCJqb2IiLCJwb3NpdGlvbiIsImtleXdvcmRzIiwidG9Mb3dlckNhc2UiLCJzZWFyY2hUZXh0IiwiY29tcGFueSIsImRlc2NyaXB0aW9uIiwiaW5jbHVkZXMiLCJzcGxpdCIsInNvbWUiLCJrZXl3b3JkIiwibWFwIiwiaWQiLCJ0aXRsZSIsImxvY2F0aW9uIiwicmVtb3RlIiwic2FsYXJ5Iiwic2FsYXJ5X21pbiIsInNhbGFyeV9tYXgiLCJNYXRoIiwicm91bmQiLCJ1bmRlZmluZWQiLCJ1cmwiLCJzb3VyY2UiLCJwb3N0ZWREYXRlIiwiRGF0ZSIsImRhdGUiLCJ0b0lTT1N0cmluZyIsImVycm9yIiwic2VhcmNoQXBpZnkiLCJzZWFyY2hGYW50YXN0aWNKb2JzIiwic2VhcmNoQWR6dW5hIiwiQURaVU5BX0FQUF9JRCIsIkFEWlVOQV9BUFBfS0VZIiwic2VhcmNoUGFyYW1zIiwiVVJMU2VhcmNoUGFyYW1zIiwiYXBwX2lkIiwiYXBwX2tleSIsIndoYXQiLCJ3aGVyZSIsInJlc3VsdHNfcGVyX3BhZ2UiLCJkaXN0YW5jZSIsInJlc3VsdHMiLCJkaXNwbGF5X25hbWUiLCJyZWRpcmVjdF91cmwiLCJjcmVhdGVkIiwic2VhcmNoR3JlZW5ob3VzZSIsImtub3duQm9hcmRzIiwic2FtcGxlQm9hcmRzIiwiZmlsdGVyZWRKb2JzIiwiY29udGVudCIsImNvbXBhbnlKb2JzIiwiY2hhckF0IiwidG9VcHBlckNhc2UiLCJuYW1lIiwiYWJzb2x1dGVfdXJsIiwidXBkYXRlZF9hdCIsInB1c2giLCJzZWFyY2hMZXZlciIsImtub3duTGV2ZXJDb21wYW5pZXMiLCJzYW1wbGVDb21wYW5pZXMiLCJ0ZXh0IiwiY2F0ZWdvcmllcyIsImhvc3RlZFVybCIsImNyZWF0ZWRBdCIsInNjb3JlSm9icyIsInVzZXJQcm9maWxlIiwicmVsZXZhbmNlU2NvcmUiLCJzY29yaW5nUHJvbXB0IiwiaSIsInN1YnN0cmluZyIsImpvaW4iLCJtZXNzYWdlcyIsImNyZWF0ZSIsIm1vZGVsIiwibWF4X3Rva2VucyIsInRlbXBlcmF0dXJlIiwicm9sZSIsInJlc3BvbnNlVGV4dCIsInR5cGUiLCJzY29yZXMiLCJKU09OIiwicGFyc2UiLCJpbmRleCIsInNjb3JpbmciLCJmaW5kIiwicyIsImpvYkluZGV4Iiwic2NvcmUiLCJtYXRjaFJlYXNvbnMiLCJyZWFzb25zIiwic29ydCIsImEiLCJiIiwiUE9TVCIsInJlcXVlc3QiLCJzdGF0dXMiLCJsaW5rZWRpbkpvYnMiLCJyZW1vdGVPS0pvYnMiLCJhcGlmeUpvYnMiLCJmYW50YXN0aWNKb2JzIiwiYWR6dW5hSm9icyIsImdyZWVob3VzZUpvYnMiLCJsZXZlckpvYnMiLCJQcm9taXNlIiwiYWxsIiwiYWxsSm9icyIsImNvbXBhbmllcyIsImxlbmd0aCIsImV4Y2x1ZGVDb21wYW5pZXMiLCJ1bmlxdWVKb2JzIiwic2VsZiIsImZpbmRJbmRleCIsImoiLCJzY29yZWRKb2JzIiwidG90YWwiLCJzb3VyY2VzIiwibGlua2VkaW4iLCJyZW1vdGVvayIsImFwaWZ5IiwiZmFudGFzdGljIiwiYWR6dW5hIiwiZ3JlZW5ob3VzZSIsImxldmVyIiwiYXBpVXNhZ2UiLCJ1c2VkIiwicmVtYWluaW5nIiwibWF4IiwibGltaXQiLCJnbGFzc2Rvb3IiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./app/api/job-search/route.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/@anthropic-ai","vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fjob-search%2Froute&page=%2Fapi%2Fjob-search%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fjob-search%2Froute.ts&appDir=%2FUsers%2Fraviporuri%2Fraviporuri-website%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fraviporuri%2Fraviporuri-website&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();